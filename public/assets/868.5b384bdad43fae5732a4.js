"use strict";(self.webpackChunkwebpack_demo=self.webpackChunkwebpack_demo||[]).push([[868],{868:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var a,o,i,r,l,c,s=t(995),d=t(216),p=t(501),u=1490,v=document.body,m=u,f=u;function y(e){e.preventDefault(),r=e.target;var n=document.querySelector(".content"),t=r.parentElement.parentElement,o=(l=(0,s.Z)("div","played-subject-container"),(0,s.Z)("div","not-played-subject-container")),v=(e=Array.from(n.children),document.querySelectorAll(".another-time-revision-button")),Z=(e.forEach((function(e){e!==t?(n.removeChild(e),o.appendChild(e),n.appendChild(o)):(l.appendChild(e),n.appendChild(l)),l.classList.add("active-subject"),o.classList.add("not-active-subjects")})),v.forEach((function(e){e.style.display="none"})),r.parentElement),L=(0,s.Z)("i","fas fa-pause revision-button revision-pause"),S=(h(Z,r,L),(0,s.Z)("i","fas fa-stop stop"));l.appendChild(S),null!==S&&S.addEventListener("click",p.gX),C(),k(25,f),L.addEventListener("click",(function(){clearInterval(a),clearInterval(i),m=u,S.removeEventListener("click",p.gX),g(l,c),b(.25);var e=(0,s.Z)("i","fas fa-play revision-button other-revision-play");h(Z,L,e),E({playContainer:Z,playButton:e,pauseButton:L},C,{timeStop:25,timeForRevisionChrono:f})})),(0,d.Z)([],{method:"GET",url:"/array-calendar-content"}),r.removeEventListener("click",y)}function h(e,n,t){e.removeChild(n),e.appendChild(t)}function b(e){console.log("dans pauseMoment");var n=0,t=60*e;k(e,n),o=setInterval((function(){var e;++n===t&&(clearInterval(o),(e=(0,p.vf)("dialog","\n            <p>La pause est termin√©e !</p>\n            <button class='ok'>OK</button>\n            ")).querySelector(".ok").addEventListener("click",(function(){(0,p.pE)({dialog:e,body:v},"removeDialog")})))}),1e3)}function C(){a=setInterval((function(){var e,n,t;1500==++m&&(n=(e=(0,p.vf)("dialog pause-dialog","\n            <p>C'est le moment de faire une pause ! <span style='font-weight:bold;'>Mettez une alarme de 5 min<span></p>\n            <button class='ok'>OK</button><button class='no'>Annuler</button>\n            ")).querySelector(".ok"),t=e.querySelector(".no"),n.addEventListener("click",(function(){clearInterval(a);var n=document.querySelector(".revision-pause"),t=n.parentElement,o=(0,s.Z)("i","fas fa-play revision-button other-revision-play");h(t,n,o),m=u,b(.25),(0,p.pE)({dialog:e,body:v},"removeDialog"),E({playContainer:t,playButton:o,pauseButton:n},C,{timeStop:25,timeForRevisionChrono:f})})),t.addEventListener("click",(function(){(0,p.pE)({dialog:e,body:v},"removeDialog")})))}),1e3)}function E(e,n,t){setTimeout((function(){e.playButton.addEventListener("click",(function(){console.log(" play button clicked"),h(e.playContainer,e.playButton,e.pauseButton),n(),k(t.timeStop,t.timeForRevisionChrono)}))}),15e3)}function k(e,n){var t=60*e,a=(c=(0,s.Z)("div","circular"),(0,s.Z)("div","inner")),o=(e=(0,s.Z)("div","circle"),(0,s.Z)("div","bar left")),r=(0,s.Z)("div","bar right"),d=(0,s.Z)("div","progress"),p=(0,s.Z)("div","progress");l.appendChild(c),c.appendChild(a),c.appendChild(e),e.appendChild(o),e.appendChild(r),o.appendChild(d),r.appendChild(p),d.style.animationDuration=(t-n)/2+"s",p.style.animationDelay=(t-n)/2+"s",p.style.animationDuration=(t-n)/2+"s",i=setInterval((function(){t--;var e=Math.floor(t/60),o=t%60;a.innerHTML="<p id='chronometer'>".concat(e,":").concat(o,"</p>"),t===n&&(g(l,c),clearInterval(i))}),1e3)}function g(e,n){null!==n.parentElement&&n.parentElement.classList.contains("played-subject-container")&&e.removeChild(n)}}}]);